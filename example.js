const md5 = require('md5');
const publicIp = require('public-ip');
require('dotenv').config();
const fs = require('fs');
const exec = require('child_process').exec;
const moment = require('moment');
const { v4: uuidv4 } = require('uuid');
const NodeRSA = require('node-rsa');
const os = require("os");
const ShopeeAPI = require('./api/ShopeeAPI.js');
const shopeeApi = new ShopeeAPI(300000);
const HttpClient = require('./api/HttpClient.js');
const { stringify } = require('querystring');
const httpClient = new HttpClient(300000);
const RSA = new NodeRSA('-----BEGIN RSA PRIVATE KEY-----\n' +
    'MIIBOQIBAAJAbnfALiSjiV3U/5b1vIq7e/jXdzy2mPPOQa/7kT75ljhRZW0Y+pj5\n' +
    'Rl2Szt0xJ6iXsPMMdO5kMBaqQ3Rsn20leQIDAQABAkA94KovrqpEOeEjwgWoNPXL\n' +
    '/ZmD2uhVSMwSE2eQ9nuL3wO7SakKf2WjCh2EZ6ZSaP9bDyhonQbnasJfb7qI0dnh\n' +
    'AiEAzhT2YJ4YY5Q+9URTKOf9pE6l4BsDeLnZJm7xJ3ctsf0CIQCJOc3KOf509XG4\n' +
    '/ExIeZTDLqbNJkoK8ABUjEQMQ1EMLQIgdr8HdIbEYOS0HlmfXWvH8FxNIkQOjQrx\n' +
    'wD6fAHGgx/UCIFO6xWpDAJP0vzMUHqeKJ88ARB6g4kTSNCFihJLG8EjxAiEAuYcD\n' +
    'gNatFAx7DU7oXKCDHZ9DR4XlVVj0N0fcWI39Oow=\n' +
    '-----END RSA PRIVATE KEY-----');

run = async () => {
    let spc_cds = '892c31b0-2cd2-4b03-b379-c361dbd8d7fb';
    let user_agent = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.84 Safari/537.36';
    let cookie = 'D1aYbwcjp3x6fFEoJhdJqDW3nkuS2y5Ay3zG3GWAuuOGIkgjYQpzM5owTTS5SCWToMkNqOtIwydev4jPV21490uN3YWoxgsz8Byurq1whi5nbr2fRwnX+TZLDfquGAShcdoGzJousTCvfvTvCAmqmadBko+7Stv0AUowPmzx8UVL1RmYVxjmiQK1ZxZCvaMR95c8lPteoFY80/ip5xpizPvHhEU5oIT/aAN7kqzScNfxcPyh3dkbRzotv4qmPgexDWlABVnyloLR/rFPQ80xkf7w7BDw7IIqtzKgeBTZbW30Z2lEtwAoImpMCObZK2U8HsL2t5Nt+ONcihzpwKUAn1GPmO1yaVY015GMN8ufYy3fP+/5YJlIzWUxO0/9wgzNB5IDJDZhnXZLsPVpIPIy9s7ryMScptm5e7P0RIw09N5q29jvPSe2jyfcTUHefwXvN3hwPF+FEF6m5eQn9I4/mfhTFtSgtGNgO/MVHwEWhPbv5HPTI0cxNNrf3PiL9nFmC/GecoKwq8fElhFaceFaOt70uBC2aTIPQdpKTnJswdjQsdIEic2fbj7nW9Tv1KbWj+Qd/bDGgR8piT3L+uqY7UKoVn+p2S0a0lUzHQgtt1OfVAHFtNtCJqOrImJHcTw12j3WvKTESNd3S2YyGkE8t5C5l/JjydAXmREMRGM62TQP5xlDr8tYRwssJ+AFg0Z0g6azn/rLdPfin9xAI8dleleL+DbTfm3UnOnEWNuuLlzN+FbDVBhvf3REXxfQ+XudFOz/LEoZ4FS5Pz5NFj7PwXnFYYpFXjcSaF2x8EX3mAGgV/FBWy8652YmaHSRe1hrekC3QKMshPFIMG3fORq9NyS3UDcPkqLgZ9i682VzBShybPfswEWovN27vXNpTvu3eW4F7+eqsJGQD83dmeSU5njzY+ofQ7JmNoWKXdA06/E12oS5qPHzpfJtSiWZx/wpC3yxxQxrdNzR300+lAjfXm1zj6MfnjMCRRbud5i1GoWWLBxcell6TeOpLphFFcL9UgpBiE5xvqzEz45QYJ5qh4q5519Kec7ib4rpM6/EKVZrp9jAwm1RHb3ROR3lj9YEDKij1S37XW6YyBrL98sNJCGBq3xJ9kSZb2euJoPf7F8snASdGKtc3Sftczbh44kgFKYb5xB4Z/zoRbgiKKDU7Qk0qZrd2bhOnjXZEDdFPYM92+J+/OV/5tUDrea9ZW07ZufmIKHcTKCxlvuJSY63ETdSBXalK452GnL5t/rYGgQI0z86JyqIBODUGRc12QVYV5zoJoZRv7yTIGdbqvGbjlM/NvFnYbC5KDXQ6ZaIr5ZqWAlfIHjU9WNBclxm8w4wzT7sFoErl4hx1NvsN8UcRWEBFQmp1gjN8NrSKigMCoUmrV7SM5EHTUztgmDyyOvph49FaX8f2OIKgzUROJXbE8wm3Ne2H3aQB2C4djOQ5i8FoKKPNSqlqLmPDZExM8yeF9H0LCls2lPQrMfxTCQ7LjGi3O2jnCY8BMWpIn/NbJCgA5MBFFoMwfGHxJ1u/9iADi4CfmPfgI76WDEeltp8aPNrIjVI+ESFiivDFDHyagfOcSoF0BvL/16GYmrxIfiW2W35+gk+KnGQv3flKNwbrgGyjZRvlk6TEG7CNcLTIE27+m5pXfXRisOzee6xniPKljEz1SOfo+LXV+mUZzggA34WWIY2mh86EdoDk5tCE4ALWrf7lG+cC87GkAMiYw3ijI5x82nNvikdNam6L6WRbf6KLG1xZsbtSGwNOwfxYZI/ivIMWWQgMVPe8m9fileSTiU39IXm+2Wk94J6XZg9sB980K4lZ6swFiYN6YTPzUdJn/yT0KoN9p4vRoNQmHCIAXExBMWKeDXOHjZpacR5MBtUP+kN/AuNXdyZBZwl2KLGlDH1H/fyqaxqTGjsfAtYJBt91jHqtPqE0WSOLPUlS3epeTI+wN00qEiSyF3NvfsfzwBtTlyKKr3hikLd5fn3dU/dHPXTihEfYtChC2+YOZL/rXfZJAqQMsM6J4hKsUlh411deVNXuzLc45AyqWDyVP8+B5KUWruUbZpBSmJgjRMZDc7wol8vZ33F/SgCcTzYdtbotDNhyARD6PRH7auVZX9l2nWz7KOcXgoRR2eBRC1BevFA/3M2cldT4GH3YC9XLq2pwDKA7+hcwez5EMSVumpJ/r4PIbOb2qK9RXzbGEgZYXdVEgOQCEu6IR3IfS9VUFYm10XhVX/R+kUU42Dg9k8Z+QzimN6Gz7TpqM3dGNSFAYIoJmUWQpfPGZtDDY+89ufwJ3PJq6gnXdWTfxTHbhBtWYU8BTcKnrNHPJacH0PnWDGYYC3Cno0NT8FU9ggedlLK1HKn04jRzUn0XLveTAXy9PYxSZ3Eg8fQGaYLfiUqYXi3zBlRirqsVOAG8ljyjCfVbQFY77sJST1a9Wj9qVKU9Zo46p+CD6h1VtObT4LJRhn5+gcgQSVDAxk2E5dJC2GXs0djNP/m48b5Ww14sT2mOwtv25hkCuVAl9hONJv2zUwqIeFEu1ECMcAxRZyxe0txOUDwV6Fm6ahc3zXnAN6hXZDxJSk5U4hIqsuZHHBrqT7reiBjtML8jBmBjgFOn2oXp2QdNYUsv9Z+DRC+/cz2S2xzP+R+8dQvy3e6UA2D2Tey1uRZZG0JYT7CQ8OY0AdNMaMixv7P778HaLf0Cl5LxgTJvTVpG+BUgd7aY9Nj+ZS+Eezr1q7EqG4aC4Y75Y+oc1bUS676Nd+s/TuNLcfTwb5V9d1GaDwSHYxV+mDh2cm0hSFJdXN6k9o1WSM9UmqfyrJ8VMSWYFAn/m8vXJ69A4KlNRe0L+yfwW1RRqX3gVigjhaHUTbbNdJQTHtlsJ/QJrWXFxGn9em/nV4fa1Huruuk78zV9gUqvDp3w0mgam2Zn3/FqnisY1eDOndBvEIBEkzM3L+5z5H6CYS9tRaCQx9ozPC8Eop31Pky7lXlSuxaU1bT09d9H8/TODoAXU437NoHZ9SX0fAfsesibHFihBxN4VKYxEuqmqtSSJdacjc4jqYQMV/uylPPAdzdPvQTHX8RClMYk7HokfiLG8LX+/QPqOJWXrSuePwU9sBWiECY27KUKclaAYTtYYNXpO0+gfdbYJWdHBmGAczbbxhwaJF/uwsxcpBtY/HU/zQEoAyo+Tc8NjdByqSmQMj1/IVDg0gkmw9Y5aeEn6UqVXNcyyq8LfivqoLWuUqiH1+bzaQU+7JvsHPAZL+hDqETlPdUxbv1fRbd2U9wP52d9PPLcjCx5t5B9FYB0CevFhpNMmdYId+u89inhi1RlJ0BCYsYWzBA01mj07MjAAGIaHwLfhMo/bVjc2AZJ+m1przYdbuQRQ35LFAm+efDa+tjQ1nHGJuPtjIb/AnUEFBk4+GpFXgmoNg+O/4Nu1K7pzUA3gVJ0DFVpq43naOL/aR6LW5qplOzYknyg5HqOPTLExCme3sV+imC24B6KzUVBedAm6E99VFNeWUdB5ApWl5CezaFRVu8s+Hp8j/+oxdQQeaeWRh6D1Ld8APJ3KG/inydy46IGaCHTdNNuQgSnsU/zzx/5YvGzmWhHbbJj/H8LnDqWbsnQS9JpcwMsLgVg2y4JqProsq8hbzity6IbSjOosL6F8JWyqF5CJfX6EEsICz+R4QFGYBSPChmUF6FbRQ6vGyzXaPITtBXiNIrecfDf693uJQAyCqacW2HbAdypMsTi2CR0SiFXG4ZZrvJVOxNCrsR9pAacEzxnNN7psIHqE54J01fdfkVkpMLYKqCYB5wLhoaAE8mO0i3L0ngeGgbRlMiAKidit0qO0mWWhw6VtBzG/+ruk8PuA0YHRYbGtib9l4v/tQGb6FLiJT9MYqEe0U9qwJrPRcunyY7F8TyotY+Nm0vqtvZcnCEaZbyPsMK0Jgw4eiIGBpnYY46W19/hR1wwsEEFOqAovlvy6Ev+HxE2lYRBdfw2K0e7yunTj/n5+unRAC3pd8jbcrC4z5ZU5BHYHg/lC3g9gtJcn5jnBF4JnnfQPTPBURzA9wTqtAN02pWui+SjCyycJqJ8inile+apKI63TU0vmInJCHY+cNcJoliB2pw4OWaiMppHyEEoGbXintWhHCQ9jTtuM3cTElpR8kSVz1lpz4uAIPBYtzjqxsD6IAHuaCEx1sFImWK5gvUMgOIhNso82S6kjsUf2aDCv2d9Ow7wy/6O2/qvlB2hoo3ClT0/sbx2ZAe6f+IpHPVz5o+qorMEBVu2awb7XYgULC4Dhn3nNd0m2EOscmeDKT7GZZE1FIwd4kzCRJGS3zfFDOg04qmgceElfZNmtZQ68/gAnvf5FtQ8q1Nz9Bubw4QxItxsuYq1LgIE6ujD7Kj03m82lKDhGYRllSjkUkPJOIxWHIs6uch60HyTdH3Q7GR5/dBA0BpByg3wKgIh1gRRp6sSLzo6HLMXifajRrVMW4yW9kVWeZObUy7NyiNihaeFYKZtqS7Bu+cScbh5tc5i65Meg8oY/9tLRMWDrArmcv1p+s3VWQWtyMhBSKW/Ph4IKve1K+VJ9aLCG9PyMBvJz2Od61Jfw2tvPa4BhuAMW6z6QAHANNriuLsCbRqjWhoy3nzcVyXMiIIKtpP/sNbjyWmxOZCu6RXFxsWuG5R8MUyrgRnP+JB5aL/L4Oa29QCA+95hP5IGVCE1mDe+1v0TZVRINxhoIrFrDOLCuN8Qesrq9VvxF3zKfxg4UKBWk7acPsLFLFECx91/n/gXOZfGE19tuDfN8lBd36SEu5iF+4u0sG85VwulBMjh9nFi/K6tfEhCk7H/1zc2q0+GIXL2Qh9PIMNkRvqwClMdaSMbUsu4mg/RBquUzyI2VCLQShOYrDmX8QD25A1OIoOlAv1C4jQwPt7GRnANMJja6QVgwsSMgeM7Jbu8/4xiR/i2gbDQAfZVZsRMzg5+lNJSAbcRCv2Lu+dNhRiPi1gBlsIB4/qxV2esXIDUUZIhb4f8eDmo9eenqEEtjLsyLyvCWvvudgYi9jW1IvLXXn/MKnKM8+1Tc00V59c7ZRrzkDVVrFpJQjZH4X5EY+lfEjmLRmtaEONf9miXcSZ+VhhFBbYbmNJKpUQdMSdoz4Ai6kNcSzNrzAHeOSReoK4PCVv1i3E1ZymX8s6BdH27Tit4Y9C809QD1+a8Yet6NSq/RSQcFgT/OqYokPaU+aSnP37BiVMfdRBC8hzuKIIwCPUKi6o6Fga+uVBMfEBMlncdfnyH3vJksNWEhO4i8CKUSBNRg3n7jI4icjSDSclccbShJiuqSqHQOy9wyfbvUQQSbKbbFhxgRw0+WWcw/yKagCR6cILr5J3lBBgUHfbHpt7n/u9p5bGBV+I2aZClmJvvRV4YpXczrtFpxU4636fSmSh3onHrDUPPL33XkLwiM80r9VXm6ceIu4otEE87HUY6WRmpw1Ll/C3hLt7iNMSorMXNs2ts0Os9HoT3VsiDxq9RkcOBZ0rKzHSGPk909H9fDLtrsaWTY3HqL7VIfvxSfsmFOtZYnyPOkVaEJEba3S0KHcGl2Wv0X2GJcOOkSs91pjxm2Cut+0EiUHFIZsQqoEZUhYgopauvK3Hnf6ASNHT2B4nwUvK7Vs7x6zCzrIfWSA8v/A+9ESOuy9wbIIqA1jpI5FyBeX0MGLQRiNcEHlRUU5jviHc5U/dMBft/Cdzv5OaRF018T7xCEQNuAwpHfF9IQN10r7UlR9Y6ug1mF2FDK5UMUVCmwUxryl2jNGVtwpqI9FSFxwKaUcrGN+bpgNucO1YIhId/GGbC3/tAuCUtgoRE0EYOWYIovtuQ5AlpsJu223YO1TbotD3OFV2Eydj+h3w8U3v0HHc2MdWhJaZuU+bZvh0swn6SAGFNFOLMRxEomM+zpZC5aycXkypZw9YeTTEu3nbnscZxc2y7z1GSwnZVevQox3+FeDlKnGD6Thv0gGVLEmfYP8uXyBckbOGEi3lPY99qhAYVggUwTuZfYkFZhfYjaRJKLQZWQgWnvaMyTCt44pDAJemx4ysZPm5nuQ2FBEOj3u1sOPrmbZHTRQCjahDr942K/JZ4KVJNcbSpbdh/DFyEYsbeFLWFobGkSVJn3eYyQai0YLXNhO+S+Qi+H5L128tLKs9BOFbavK+t9FSiUtTv0L+SUf9M3thF8dtnjmK2hOVmkodFk8yqNV0CjTbQog0SvzZvMtdnbMretS1E6AbDALYQ1IZziEvEBYZKVAgMoCFwrkKuQ==';
    let order_id = '101550229500472';
    let result = await shopeeApi.api_get_income_transaction_history_detail(spc_cds, null, user_agent, cookie, order_id);
    console.log(JSON.stringify(result));
}


run();
